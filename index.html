<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Animordle - Hayvan Tahmin Oyunu</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        .grid { display: grid; grid-template-columns: repeat(5, 50px); gap: 5px; justify-content: center; margin-top: 20px; }
        .cell { width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; font-size: 24px; border: 2px solid #333; }
        .green { background-color: #4CAF50; color: white; }
        .yellow { background-color: #FFC107; }
        .gray { background-color: #DDD; }
    </style>
</head>
<body>
    <h1>Animordle - Hayvan İsmi Tahmini</h1>
    <p>5 harfli bir hayvan ismi tahmin edin!</p>
    <input type="text" id="guess" maxlength="5">
    <button onclick="checkGuess()">Tahmin Yap</button>
    <div id="grid-container"></div>
    <p id="message"></p>

    <script>
        let secretWord = ""; // Başlangıçta boş
        let attempts = 0;
        const maxAttempts = 6;
        const gridContainer = document.getElementById("grid-container");

        async function fetchRandomAnimal() {
            try {
                const response = await fetch("https://zoo-animal-api.herokuapp.com/animals/rand");
                const data = await response.json();
                secretWord = data.name.toLowerCase().substring(0, 5); // İlk 5 harfi al
            } catch (error) {
                console.error("API hatası:", error);
                alert("Hayvan verisi alınamadı da. Lütfen tekrar deneyin.");
            }
        }

        // Sayfa yüklendiğinde hayvan verisini al
        fetchRandomAnimal();

        function checkGuess() {
            const guessInput = document.getElementById("guess");
            const guess = guessInput.value.toLowerCase();
            if (guess.length !== 5) {
                alert("5 harfli bir kelime girin!");
                return;
            }

            let row = document.createElement("div");
            row.className = "grid";

            for (let i = 0; i < 5; i++) {
                let cell = document.createElement("div");
                cell.className = "cell";
                cell.textContent = guess[i];

                if (guess[i] === secretWord[i]) {
                    cell.classList.add("green");
                } else if (secretWord.includes(guess[i])) {
                    cell.classList.add("yellow");
                } else {
                    cell.classList.add("gray");
                }
                row.appendChild(cell);
            }

            gridContainer.appendChild(row);
            attempts++;
            guessInput.value = "";

            if (guess === secretWord) {
                document.getElementById("message").textContent = "Tebrikler! Doğru tahmin: " + secretWord;
                guessInput.disabled = true;
            } else if (attempts >= maxAttempts) {
                document.getElementById("message").textContent = "Oyun bitti! Doğru kelime: " + secretWord;
                guessInput.disabled = true;
            }
        }
    </script>
</body>
</html>
